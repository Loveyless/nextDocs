---
title: 安装
description: 学习如何使用 `create-next-app` CLI 创建新的 Next.js 应用，并设置 TypeScript、ESLint 和模块路径别名。
---

{/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}

<AppOnly>

创建一个新的 Next.js 应用并在本地运行。

## 快速开始

1. 创建一个名为 `my-app` 的新 Next.js 应用
2. `cd my-app` 并启动开发服务器
3. 访问 `http://localhost:3000`

```bash package="pnpm"
pnpm create next-app@latest my-app --yes
cd my-app
pnpm dev
```

```bash package="npm"
npx create-next-app@latest my-app --yes
cd my-app
npm run dev
```

```bash package="yarn"
yarn create next-app@latest my-app --yes
cd my-app
yarn dev
```

```bash package="bun"
bun create next-app@latest my-app --yes
cd my-app
bun dev
```

- `--yes` skips prompts using saved preferences or defaults. The default setup enables TypeScript, Tailwind, ESLint, App Router, and Turbopack, with import alias `@/*`.

</AppOnly>

## 系统要求

开始之前，请确保你的开发环境满足以下要求：

- 最低 Node.js 版本：[20.9](https://nodejs.org/)
- 操作系统：macOS、Windows（包括 WSL）和 Linux

## 支持的浏览器

Next.js 无需配置即可支持现代浏览器。

- Chrome 111+
- Edge 111+
- Firefox 111+
- Safari 16.4+

了解更多关于[浏览器支持](/docs/architecture/supported-browsers)的信息，包括如何配置 polyfill 和定位特定浏览器。

## 使用 CLI 创建

创建新的 Next.js 应用的最快方式是使用 [`create-next-app`](/docs/app/api-reference/cli/create-next-app)，它会为你自动设置所有内容。要创建项目，请运行：

```bash filename="Terminal"
npx create-next-app@latest
```

安装时，你会看到以下提示：

```txt filename="Terminal"
你的项目叫什么名字？ my-app
你是否要使用推荐的 Next.js 默认设置？
    是，使用推荐的默认设置 - TypeScript、ESLint、Tailwind CSS、App Router、Turbopack
    否，重用之前的设置
    否，自定义设置 - 选择你自己的偏好
```

如果你选择 `自定义设置`，你会看到以下提示：

```txt filename="Terminal"
你是否要使用 TypeScript？ 否 / 是
你想要使用哪个 linter？ ESLint / Biome / 无
你是否要使用 React Compiler？ 否 / 是
你是否要使用 Tailwind CSS？ 否 / 是
你是否希望代码在 `src/` 目录中？ 否 / 是
你是否要使用 App Router？（推荐） 否 / 是
你是否要自定义导入别名（默认是 `@/*`）？ 否 / 是
你想要配置什么导入别名？ @/*
```

在提示之后，[`create-next-app`](/docs/app/api-reference/cli/create-next-app) 会创建一个以你的项目命名的文件夹并安装所需的依赖项。

## 手动安装

要手动创建新的 Next.js 应用，请安装所需的包：

```bash package="pnpm"
pnpm i next@latest react@latest react-dom@latest
```

```bash package="npm"
npm i next@latest react@latest react-dom@latest
```

```bash package="yarn"
yarn add next@latest react@latest react-dom@latest
```

```bash package="bun"
bun add next@latest react@latest react-dom@latest
```

> **注意**：App Router 内置使用 [React canary releases](https://react.dev/blog/2023/05/03/react-canaries)，其中包含所有稳定的 React 19 变更，以及正在框架中验证的新功能。Pages Router 使用你在 `package.json` 中安装的 React 版本。

然后，将以下脚本添加到你的 `package.json` 文件中：

```json filename="package.json"
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint",
    "lint:fix": "eslint --fix"
  }
}
```

这些脚本指的是应用开发的不同阶段：

- `next dev`：使用 Turbopack（默认打包器）启动开发服务器。
- `next build`：为生产环境构建应用。
- `next start`：启动生产服务器。
- `eslint`：运行 ESLint。

Turbopack 现在是默认打包器。要使用 Webpack，请运行 `next dev --webpack` 或 `next build --webpack`。查看 [Turbopack 文档](/docs/app/api-reference/turbopack)了解配置详情。

<AppOnly>

### 创建 `app` 目录

Next.js 使用文件系统路由，这意味着应用中的路由由你的文件结构决定。

创建一个 `app` 文件夹。然后，在 `app` 内部创建一个 `layout.tsx` 文件。这个文件是[根布局](/docs/app/api-reference/file-conventions/layout#root-layout)。它是必需的，必须包含 `<html>` 和 `<body>` 标签。

```tsx filename="app/layout.tsx" switcher
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

```jsx filename="app/layout.js" switcher
export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

创建一个带有初始内容的主页 `app/page.tsx`：

```tsx filename="app/page.tsx" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

```jsx filename="app/page.js" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

Both `layout.tsx` and `page.tsx` will be rendered when the user visits the root of your application (`/`).

<Image
  alt="App Folder Structure"
  srcLight="/docs/light/app-getting-started.png"
  srcDark="/docs/dark/app-getting-started.png"
  width="1600"
  height="363"
/>

> **Good to know**:
>
> - If you forget to create the root layout, Next.js will automatically create this file when running the development server with `next dev`.
> - You can optionally use a [`src` folder](/docs/app/api-reference/file-conventions/src-folder) in the root of your project to separate your application's code from configuration files.

</AppOnly>

<PagesOnly>

### Create the `pages` directory

Next.js uses file-system routing, which means the routes in your application are determined by how you structure your files.

Create a `pages` directory at the root of your project. Then, add an `index.tsx` file inside your `pages` folder. This will be your home page (`/`):

```tsx filename="pages/index.tsx" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

```jsx filename="pages/index.js" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

Next, add an `_app.tsx` file inside `pages/` to define the global layout. Learn more about the [custom App file](/docs/pages/building-your-application/routing/custom-app).

```tsx filename="pages/_app.tsx" switcher
import type { AppProps } from 'next/app'

export default function App({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />
}
```

```jsx filename="pages/_app.js" switcher
export default function App({ Component, pageProps }) {
  return <Component {...pageProps} />
}
```

Finally, add a `_document.tsx` file inside `pages/` to control the initial response from the server. Learn more about the [custom Document file](/docs/pages/building-your-application/routing/custom-document).

```tsx filename="pages/_document.tsx" switcher
import { Html, Head, Main, NextScript } from 'next/document'

export default function Document() {
  return (
    <Html>
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

```jsx filename="pages/_document.js" switcher
import { Html, Head, Main, NextScript } from 'next/document'

export default function Document() {
  return (
    <Html>
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  )
}
```

</PagesOnly>

### Create the `public` folder (optional)

Create a [`public` folder](/docs/app/api-reference/file-conventions/public-folder) at the root of your project to store static assets such as images, fonts, etc. Files inside `public` can then be referenced by your code starting from the base URL (`/`).

You can then reference these assets using the root path (`/`). For example, `public/profile.png` can be referenced as `/profile.png`:

```tsx filename="app/page.tsx" highlight={4} switcher
import Image from 'next/image'

export default function Page() {
  return <Image src="/profile.png" alt="Profile" width={100} height={100} />
}
```

```jsx filename="app/page.js" highlight={4} switcher
import Image from 'next/image'

export default function Page() {
  return <Image src="/profile.png" alt="Profile" width={100} height={100} />
}
```

## 运行开发服务器

1. 运行 `npm run dev` 启动开发服务器。
2. 访问 `http://localhost:3000` 查看你的应用。
3. 编辑 <AppOnly>`app/page.tsx`</AppOnly><PagesOnly>`pages/index.tsx`</PagesOnly> 文件并保存，在你的浏览器中看到更新结果。

## 设置 TypeScript

> 最低 TypeScript 版本：`v5.1.0`

Next.js 内置支持 TypeScript。要将 TypeScript 添加到项目中，请将文件重命名为 `.ts` / `.tsx` 并运行 `next dev`。Next.js 会自动安装必要的依赖项并添加带有推荐配置选项的 `tsconfig.json` 文件。

<AppOnly>

### IDE 插件

Next.js 包含自定义的 TypeScript 插件和类型检查器，VSCode 和其他代码编辑器可以使用它进行高级类型检查和自动完成。

你可以通过以下方式在 VS Code 中启用插件：

1. 打开命令面板 (`Ctrl/⌘` + `Shift` + `P`)
2. 搜索 "TypeScript: 选择 TypeScript 版本"
3. 选择 "使用工作区版本"

<Image
  alt="TypeScript Command Palette"
  srcLight="/docs/light/typescript-command-palette.png"
  srcDark="/docs/dark/typescript-command-palette.png"
  width="1600"
  height="637"
/>

</AppOnly>

See the [TypeScript reference](/docs/app/api-reference/config/next-config-js/typescript) page for more information.

## 设置代码检查

Next.js 支持使用 ESLint 或 Biome 进行代码检查。选择一个 linter 并通过 `package.json` 脚本直接运行它。

- 使用 **ESLint**（全面的规则）：

```json filename="package.json"
{
  "scripts": {
    "lint": "eslint",
    "lint:fix": "eslint --fix"
  }
}
```

- 或者使用 **Biome**（快速的 linter + 格式化工具）：

```json filename="package.json"
{
  "scripts": {
    "lint": "biome check",
    "format": "biome format --write"
  }
}
```

如果你的项目之前使用了 `next lint`，请使用 codemod 将你的脚本迁移到 ESLint CLI：

```bash filename="Terminal"
npx @next/codemod@canary next-lint-to-eslint-cli .
```

如果你使用 ESLint，请创建一个明确的配置（推荐使用 `eslint.config.mjs`）。ESLint 同时支持[传统的 `.eslintrc.*` 和较新的 `eslint.config.mjs` 格式](https://eslint.org/docs/latest/use/configure/configuration-files#configuring-eslint)。查看 [ESLint API 参考](/docs/app/api-reference/config/eslint#with-core-web-vitals)获取推荐的设置。

> **注意**：从 Next.js 16 开始，`next build` 不再自动运行 linter。相反，你可以通过 NPM 脚本运行 linter。

查看 [ESLint 插件](/docs/app/api-reference/config/eslint)页面获取更多信息。

## 设置绝对导入和模块路径别名

Next.js 内置支持 `tsconfig.json` 和 `jsconfig.json` 文件的 `"paths"` 和 `"baseUrl"` 选项。

这些选项允许你将项目目录别名为绝对路径，使导入模块更容易和更清晰。例如：

```jsx
// 之前
import { Button } from '../../../components/button'

// 之后
import { Button } from '@/components/button'
```

要配置绝对导入，请将 `baseUrl` 配置选项添加到你的 `tsconfig.json` 或 `jsconfig.json` 文件中。例如：

```json filename="tsconfig.json or jsconfig.json"
{
  "compilerOptions": {
    "baseUrl": "src/"
  }
}
```

除了配置 `baseUrl` 路径外，你还可以使用 `"paths"` 选项来 "别名" 模块路径。

例如，以下配置将 `@/components/*` 映射到 `components/*`：

```json filename="tsconfig.json or jsconfig.json"
{
  "compilerOptions": {
    "baseUrl": "src/",
    "paths": {
      "@/styles/*": ["styles/*"],
      "@/components/*": ["components/*"]
    }
  }
}
```

每个 `"paths"` 都相对于 `baseUrl` 位置。
